<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>字符串相关操作 | Hoshiizumiya</title>
    <meta name="description" content="learn notes">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/vitepresspages/assets/style.CN1xNsPh.css" as="style">
    <link rel="preload stylesheet" href="/vitepresspages/vp-icons.css" as="style">
    
    <script type="module" src="/vitepresspages/assets/app.CVRw5pHX.js"></script>
    <link rel="preload" href="/vitepresspages/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/vitepresspages/assets/chunks/theme.CsjXfZ_X.js">
    <link rel="modulepreload" href="/vitepresspages/assets/chunks/framework.eveauE4a.js">
    <link rel="modulepreload" href="/vitepresspages/assets/C___字符串.md.Cgmq0Agb.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0b0ada53></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0b0ada53>Skip to content</a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle has-sidebar" data-v-6aa21345 data-v-1168a8e4><a class="title" href="/vitepresspages/" data-v-1168a8e4><!--[--><!--]--><!----><span data-v-1168a8e4>Hoshiizumiya</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/vitepresspages/index.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/vitepresspages/README.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>About me</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6aa21345 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/hoshiizumiya" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bb2aa2f0><div class="item social-links" data-v-bb2aa2f0><div class="VPSocialLinks social-links-list" data-v-bb2aa2f0 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/hoshiizumiya" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-8a42e2b4><button data-v-8a42e2b4>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6><div class="curtain" data-v-319d5ca6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-319d5ca6><span class="visually-hidden" id="sidebar-aria-label" data-v-319d5ca6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>过时的项目指南</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/gitbook%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2%E5%85%A8%E6%8C%87%E5%8D%97/gitbook%E9%83%A8%E7%BD%B2%E7%AE%80%E4%BB%8B.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>gitbook本地部署</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 has-active" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>C++</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/C++/%E7%9B%AE%E5%BD%95.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>目录</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/C++/%E5%AD%97%E7%AC%A6%E4%B8%B2.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>字符串</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/C++/%E6%8C%87%E9%92%88.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>指针</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/C++/%E8%BF%9E%E7%BB%AD%E8%AF%BB%E5%8F%96.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>连续读取</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/C++/2.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>JAVA类数组和方法的重构</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/C++/memory1.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>C++ 11 —— 移动语义</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>计算机图形学</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6/%E7%9B%AE%E5%BD%95.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>目录</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>WinUI3 C++/WinRT 原理及实践</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/WinUI3/index.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>目录</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/WinUI3/EP3.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>EP3</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/WinUI3/TitleBar.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>cpp/WinRT入门-TitleBar标题栏</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/WinUI3/Template.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>cpp/WinRT入门-模板元编程在 WinRT 中的实现</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/WinUI3/Loaded.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>cpp/WinRT入门-Loaded事件</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/WinUI3/Page&amp;Window1.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>cpp/WinRT入门-页面操作其一</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/WinUI3/Page&amp;Window2.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>cpp/WinRT入门-页面操作其二</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/WinUI3/InitializeComponent.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>cpp/WinRT入门-页面初始化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/WinUI3/data&amp;ui.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>cpp/WinRT入门-数据与界面绑定更新</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/WinUI3/winui3-advanced-binding.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>cpp/WinRT入门-高级数据绑定与 MVVM 架构实践P1</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/WinUI3/interface.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>cpp/WinRT入门-WinRT 接口机制与继承模型详解</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/WinUI3/WinUI3-WinRT-CPP-%E5%AE%8C%E6%95%B4%E6%95%99%E7%A8%8B-%E7%AC%AC%E9%9B%B6%E9%83%A8%E5%88%86-%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E4%B8%8E%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>系列教程-第零部分-环境配置与基础概念</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/WinUI3/WinUI3-WinRT-CPP-%E5%AE%8C%E6%95%B4%E6%95%99%E7%A8%8B-%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86-%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E4%B8%8E%E6%9E%B6%E6%9E%84.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>系列教程-第一部分-基础概念与架构</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/WinUI3/WinUI3-WinRT-CPP-%E5%AE%8C%E6%95%B4%E6%95%99%E7%A8%8B-%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86-%E5%AE%9E%E8%B7%B5%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>系列教程-第二部分-实践开发指南</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/WinUI3/WinUI3-WinRT-CPP-%E5%AE%8C%E6%95%B4%E6%95%99%E7%A8%8B-%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7%E4%B8%8E%E6%B7%B1%E5%BA%A6%E5%BC%80%E5%8F%91.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>系列教程-第三部分-高级特性与深度开发</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/WinUI3/WinUI3-WinRT-CPP-%E5%AE%8C%E6%95%B4%E6%95%99%E7%A8%8B-%E7%AC%AC%E5%9B%9B%E9%83%A8%E5%88%86-%E5%9F%BA%E7%A1%80API%E4%B8%8E%E7%B1%BB%E5%9E%8B%E7%B3%BB%E7%BB%9F%E6%B7%B1%E5%BA%A6%E8%A7%A3%E6%9E%90.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>系列教程-第四部分-基础API与类型系统深度解析</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/WinUI3/WinUI3-WinRT-CPP-%E5%AE%8C%E6%95%B4%E6%95%99%E7%A8%8B-%E7%AC%AC%E4%BA%94%E9%83%A8%E5%88%86-XAML%E6%A1%86%E6%9E%B6%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A%E6%B7%B1%E5%B1%82%E6%9C%BA%E5%88%B6.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>系列教程-第五部分-XAML框架与数据绑定深层机制</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/WinUI3/WinUI3-WinRT-CPP-%E5%AE%8C%E6%95%B4%E6%95%99%E7%A8%8B-%E7%AC%AC%E5%85%AD%E9%83%A8%E5%88%86-%E5%AE%9E%E6%88%98%E6%8A%80%E5%B7%A7%E4%B8%8E%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>系列教程-第六部分-实战技巧与最佳实践</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/WinUI3/scale.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Windows 缩放控制</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _vitepresspages_C++_%E5%AD%97%E7%AC%A6%E4%B8%B2" data-v-39a288b8><div><h1 id="字符串相关操作" tabindex="-1">字符串相关操作 <a class="header-anchor" href="#字符串相关操作" aria-label="Permalink to &quot;字符串相关操作&quot;">​</a></h1><h2 id="有关字符串的强制类型转换-如何将整数赋值给字符数组" tabindex="-1">有关字符串的强制类型转换，如何将整数赋值给字符数组 <a class="header-anchor" href="#有关字符串的强制类型转换-如何将整数赋值给字符数组" aria-label="Permalink to &quot;有关字符串的强制类型转换，如何将整数赋值给字符数组&quot;">​</a></h2><p>在C++中，直接使用强制类型转换将一个整数赋值给字符数组是不可行的，因为这会导致不正确的结果。以下是详细解释一下为什么不能这样做以及如何正确处理这种情况。</p><h3 id="为什么不能直接使用强制类型转换" tabindex="-1">为什么不能直接使用强制类型转换 <a class="header-anchor" href="#为什么不能直接使用强制类型转换" aria-label="Permalink to &quot;为什么不能直接使用强制类型转换&quot;">​</a></h3><ul><li>类型不匹配： 整数和字符数组是不同类型的数据。整数是一个标量类型，而字符数组是一个复合类型。 直接将整数赋值给字符数组的第一个元素，只会将整数解释为ASCII码值，而不是将整数转换为字符串。</li><li>ASCII码值： 如前所述，整数123对应的ASCII字符是&#39;{&#39;。所以，char num[20] = { a }; 实际上是将123作为ASCII码值存储在num[0]中，而不是将整数123转换为字符串&quot;123&quot;。</li></ul><h3 id="正确的方法" tabindex="-1">正确的方法 <a class="header-anchor" href="#正确的方法" aria-label="Permalink to &quot;正确的方法&quot;">​</a></h3><p>要将整数转换为字符串并存储到字符数组中，可以使用以下方法之一：</p><ol><li>使用 std::to_string() 这是最简单和现代的方法，适用于C++11及以后的版本。</li></ol><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;iostream&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;string&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;cstring&gt;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 包含 strcpy 函数</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 123</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    string strNum </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> to_string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 将整数转换为字符串</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    char</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> num[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    strcpy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(num, strNum.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">c_str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 将字符串复制到字符数组</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    cout </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> num </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> endl;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 输出 &quot;123&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ol start="2"><li>使用 <code>sprintf()</code> 这是一个更传统的C语言方法，适用于需要兼容C++早期版本的情况。</li></ol><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;iostream&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;cstdio&gt;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 包含 sprintf 函数</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 123</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    char</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> num[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    sprintf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(num, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">%d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, a);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 将整数格式化为字符串</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    cout </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> num </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> endl;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 输出 &quot;123&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ol start="3"><li>使用 <code>std::stringstream</code> 这是一种更灵活的方法，适用于复杂的字符串操作。</li></ol><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;iostream&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;sstream&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 123</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    stringstream ss;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ss </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 将整数写入字符串流</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    string strNum </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ss.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 获取字符串</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    char</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> num[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    strcpy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(num, strNum.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">c_str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 将字符串复制到字符数组</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    cout </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> num </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> endl;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 输出 &quot;123&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-label="Permalink to &quot;总结&quot;">​</a></h3><p>虽然可以直接使用强制类型转换将整数赋值给字符数组，但这会导致不正确的结果。为了正确地将整数转换为字符串并存储到字符数组中，建议使用上述方法之一。这些方法不仅安全，而且易于理解和维护。</p><h2 id="size-sizeof-strlen-length-capacity的区别" tabindex="-1">size, sizeof, strlen, length, capacity的区别 <a class="header-anchor" href="#size-sizeof-strlen-length-capacity的区别" aria-label="Permalink to &quot;size, sizeof, strlen, length, capacity的区别&quot;">​</a></h2><ol><li>对于字符串长度的计算，有不同的方法，具体取决于你是使用C风格字符串（字符数组）还是std::string。<br> 对于C风格字符串（即以null字符 \0 结尾的字符数组），可以使用 strlen 函数来获取字符串的长度。</li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>    char str[] = &quot;Hello, World!&quot;;</span></span>
<span class="line"><span>    size_t length = strlen(str); // 获取字符串长度</span></span></code></pre></div><p>2.std::string<br> 对于 std::string 类型的字符串，可以使用 length 或 size 成员函数来获取字符串的长度。</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;iostream&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;string&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    string str </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Hello, World!&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    size_t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> length </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> str.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 或者 str.size()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    cout </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Length of the string: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> length </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> endl;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 输出 13</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ol start="3"><li><code>sizeof</code> 操作符<br> C++中，<code>sizeof</code> 操作符用于获取数据类型或变量在内存中所占的字节数，而不是字符串的长度。sizeof 操作符用于获取数据类型或变量在内存中所占的字节数，而不是字符串的长度。对于字符数组，sizeof 返回的是整个数组的字节数，包括终止符 \0。</li></ol><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    char</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> str[] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Hello, World!&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    size_t</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> size </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> sizeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(str);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 获取数组的总字节数</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    cout </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Size of the array: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> size </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot; bytes&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> endl;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // 输出 14 bytes</span></span></code></pre></div><p>C++中，std::string 类提供了两个成员函数来获取字符串的长度：length() 和 size()。这两个函数实际上是完全等价的，它们都返回字符串中字符的数量。</p><h3 id="length-和-size" tabindex="-1">length() 和 size() <a class="header-anchor" href="#length-和-size" aria-label="Permalink to &quot;length() 和 size()&quot;">​</a></h3><p>length()：</p><ul><li>返回字符串中字符的数量。</li><li>语法：size_t length() const;</li></ul><p>size()：</p><ul><li>返回字符串中字符的数量。</li><li>语法：size_t size() const;</li></ul><h4 id="主要区别" tabindex="-1">主要区别 <a class="header-anchor" href="#主要区别" aria-label="Permalink to &quot;主要区别&quot;">​</a></h4><p>功能相同：</p><ul><li>length() 和 size() 都返回字符串中字符的数量，它们在功能上是完全相同的。</li><li>它们返回的类型都是 size_t，这是一个无符号整数类型，通常用于表示大小和索引。 命名习惯：</li><li>length() 更符合某些编程语言（如C）中的命名习惯，因为C语言中常用的字符串长度函数是 strlen。</li><li>size() 更符合STL（Standard Template Library）中的命名习惯，因为在STL容器（如 vector、list 等）中，通常使用 size() 来获取容器的大小。</li></ul><h3 id="size-分析-string-对象都存储了什么" tabindex="-1">size 分析 string 对象都存储了什么： <a class="header-anchor" href="#size-分析-string-对象都存储了什么" aria-label="Permalink to &quot;size 分析 string 对象都存储了什么：&quot;">​</a></h3><p>具体的内存布局可能会因编译器和平台的不同而有所差异</p><h4 id="std-string-的内存布局通常包括以下内容" tabindex="-1">std::string 的内存布局通常包括以下内容： <a class="header-anchor" href="#std-string-的内存布局通常包括以下内容" aria-label="Permalink to &quot;std::string 的内存布局通常包括以下内容：&quot;">​</a></h4><p>数据指针 (char* 或 char* 类型的指针)：</p><ul><li>指向实际存储字符串数据的内存地址。</li><li>大小：通常为8字节（64位系统）或4字节（32位系统）。 长度信息 (size_t 类型)：</li><li>存储字符串的当前长度。</li><li>大小：通常为8字节（64位系统）或4字节（32位系统）。 容量信息 (size_t 类型)：</li><li>存储字符串的当前容量（即已分配的内存大小）。</li><li>大小：通常为8字节（64位系统）或4字节（32位系统）。 其他内部数据：</li><li>可能包括一些额外的内部管理数据，例如是否使用了小字符串优化（Small String Optimization, SSO）。</li><li>SSO允许短字符串直接存储在 std::string 对象内部，而不是动态分配内存。</li><li>大小：这取决于具体的实现，但通常会占用额外的空间。</li></ul><h4 id="小字符串优化-sso" tabindex="-1">小字符串优化（SSO） <a class="header-anchor" href="#小字符串优化-sso" aria-label="Permalink to &quot;小字符串优化（SSO）&quot;">​</a></h4><p>许多现代的 std::string 实现使用了小字符串优化（SSO），这使得短字符串可以直接存储在 std::string 对象内部，从而避免了动态内存分配的开销。具体来说，std::string 对象内部会预留一段固定的内存空间来存储短字符串。</p><p>假设 std::string 对象的大小为40字节，我们可以大致推测其内存布局如下：</p><p>数据指针或直接存储的字符串：</p><ul><li>如果字符串长度小于等于某个阈值（例如15个字符），字符串数据可以直接存储在这部分内存中。</li><li>否则，这部分内存存储一个指向动态分配内存的指针。</li><li>大小：通常为24字节（包括指针或直接存储的字符串）。</li></ul><p>长度信息 (size_t 类型)：</p><ul><li>存储字符串的当前长度。</li><li>大小：8字节。</li></ul><p>容量信息 (size_t 类型)：</p><ul><li>存储字符串的当前容量。</li><li>大小：8字节。</li></ul><table tabindex="0"><thead><tr><th>数据指针/直接存储</th><th>长度</th><th>容量</th></tr></thead><tbody><tr><td>24字节</td><td>8字节</td><td>8字节</td></tr></tbody></table></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><a class="VPLink link pager-link prev" href="/vitepresspages/C++/%E7%9B%AE%E5%BD%95.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Previous page</span><span class="title" data-v-e257564d>目录</span><!--]--></a></div><div class="pager" data-v-e257564d><a class="VPLink link pager-link next" href="/vitepresspages/C++/%E6%8C%87%E9%92%88.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Next page</span><span class="title" data-v-e257564d>指针</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"c___2.md\":\"DjMgGOCl\",\"c___memory1.md\":\"DxWxdtIL\",\"c___字符串.md\":\"Cgmq0Agb\",\"c___指针.md\":\"DmKyeohb\",\"c___目录.md\":\"DJ0IQXfm\",\"c___连续读取.md\":\"CkeBabpD\",\"friends.md\":\"DBcuyvVO\",\"gitbook本地部署全指南_gitbook部署简介.md\":\"DEwZ2v0L\",\"gitbook本地部署全指南_step1-环境准备.md\":\"6xDU7H1e\",\"gitbook本地部署全指南_step2-gitbook.md\":\"pg9czuZV\",\"gitbook本地部署全指南_step3-gitbook进阶.md\":\"Dce-J8e7\",\"index.md\":\"-b14q6Pw\",\"markdown-examples.md\":\"DAKMSRv2\",\"readme.md\":\"w011D00n\",\"windows_index.md\":\"DLB0q3M0\",\"windows_windows内核.md\":\"PaCzluSe\",\"winui3_data_ui.md\":\"Bq7wmzd9\",\"winui3_ep3.md\":\"CRISNe9u\",\"winui3_index.md\":\"C9Fnzuuu\",\"winui3_initializecomponent.md\":\"CIsku4Kf\",\"winui3_interface.md\":\"BW6S1wYD\",\"winui3_loaded.md\":\"pGbfFufO\",\"winui3_page_window1.md\":\"9VyrBFbX\",\"winui3_page_window2.md\":\"D630S2-Y\",\"winui3_scale.md\":\"BPk3fUNq\",\"winui3_swapchainpanel.md\":\"ByC4VwMp\",\"winui3_template.md\":\"D2eC_Q7u\",\"winui3_titlebar.md\":\"COAkMMRI\",\"winui3_winui3-advanced-binding.md\":\"D5qGbcsF\",\"winui3_winui3-winrt-cpp-完整教程-第一部分-基础概念与架构.md\":\"CXKMMyCO\",\"winui3_winui3-winrt-cpp-完整教程-第三部分-高级特性与深度开发.md\":\"0qKaCzqE\",\"winui3_winui3-winrt-cpp-完整教程-第二部分-实践开发指南.md\":\"CSy9q0wO\",\"winui3_winui3-winrt-cpp-完整教程-第五部分-xaml框架与数据绑定深层机制.md\":\"D4h55b-H\",\"winui3_winui3-winrt-cpp-完整教程-第六部分-实战技巧与最佳实践.md\":\"yZExZe3k\",\"winui3_winui3-winrt-cpp-完整教程-第四部分-基础api与类型系统深度解析.md\":\"Iq7tgIs9\",\"winui3_winui3-winrt-cpp-完整教程-第零部分-环境配置与基础概念.md\":\"CLHeKWty\",\"计算机图形学_目录.md\":\"9xfedz6b\",\"计算机网络_5g.md\":\"Ce3ctpUg\",\"计算机网络_bt.md\":\"CarG1Qna\",\"计算机网络_index.md\":\"tokUhwfa\",\"计算机网络_tcpip协议开销.md\":\"BCQkttL5\",\"计算机网络_系统代理.md\":\"BrfS_L_S\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Hoshiizumiya\",\"description\":\"learn notes\",\"base\":\"/vitepresspages/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"Home\",\"link\":\"/index.md\"},{\"text\":\"About me\",\"link\":\"/README.md\"}],\"sidebar\":[{\"text\":\"过时的项目指南\",\"items\":[{\"text\":\"gitbook本地部署\",\"link\":\"/gitbook本地部署全指南/gitbook部署简介\"}]},{\"text\":\"C++\",\"items\":[{\"text\":\"目录\",\"link\":\"/C++/目录\"},{\"text\":\"字符串\",\"link\":\"/C++/字符串\"},{\"text\":\"指针\",\"link\":\"/C++/指针\"},{\"text\":\"连续读取\",\"link\":\"/C++/连续读取\"},{\"text\":\"JAVA类数组和方法的重构\",\"link\":\"/C++/2\"},{\"text\":\"C++ 11 —— 移动语义\",\"link\":\"/C++/memory1\"}]},{\"text\":\"计算机图形学\",\"items\":[{\"text\":\"目录\",\"link\":\"/计算机图形学/目录.md\"}]},{\"text\":\"WinUI3 C++/WinRT 原理及实践\",\"items\":[{\"text\":\"目录\",\"link\":\"/WinUI3/index.md\"},{\"text\":\"EP3\",\"link\":\"/WinUI3/EP3.md\"},{\"text\":\"cpp/WinRT入门-TitleBar标题栏\",\"link\":\"/WinUI3/TitleBar.md\"},{\"text\":\"cpp/WinRT入门-模板元编程在 WinRT 中的实现\",\"link\":\"/WinUI3/Template.md\"},{\"text\":\"cpp/WinRT入门-Loaded事件\",\"link\":\"/WinUI3/Loaded.md\"},{\"text\":\"cpp/WinRT入门-页面操作其一\",\"link\":\"/WinUI3/Page&Window1.md\"},{\"text\":\"cpp/WinRT入门-页面操作其二\",\"link\":\"/WinUI3/Page&Window2.md\"},{\"text\":\"cpp/WinRT入门-页面初始化\",\"link\":\"/WinUI3/InitializeComponent.md\"},{\"text\":\"cpp/WinRT入门-数据与界面绑定更新\",\"link\":\"/WinUI3/data&ui.md\"},{\"text\":\"cpp/WinRT入门-高级数据绑定与 MVVM 架构实践P1\",\"link\":\"/WinUI3/winui3-advanced-binding.md\"},{\"text\":\"cpp/WinRT入门-WinRT 接口机制与继承模型详解\",\"link\":\"/WinUI3/interface.md\"},{\"text\":\"系列教程-第零部分-环境配置与基础概念\",\"link\":\"/WinUI3/WinUI3-WinRT-CPP-完整教程-第零部分-环境配置与基础概念.md\"},{\"text\":\"系列教程-第一部分-基础概念与架构\",\"link\":\"/WinUI3/WinUI3-WinRT-CPP-完整教程-第一部分-基础概念与架构.md\"},{\"text\":\"系列教程-第二部分-实践开发指南\",\"link\":\"/WinUI3/WinUI3-WinRT-CPP-完整教程-第二部分-实践开发指南.md\"},{\"text\":\"系列教程-第三部分-高级特性与深度开发\",\"link\":\"/WinUI3/WinUI3-WinRT-CPP-完整教程-第三部分-高级特性与深度开发.md\"},{\"text\":\"系列教程-第四部分-基础API与类型系统深度解析\",\"link\":\"/WinUI3/WinUI3-WinRT-CPP-完整教程-第四部分-基础API与类型系统深度解析.md\"},{\"text\":\"系列教程-第五部分-XAML框架与数据绑定深层机制\",\"link\":\"/WinUI3/WinUI3-WinRT-CPP-完整教程-第五部分-XAML框架与数据绑定深层机制.md\"},{\"text\":\"系列教程-第六部分-实战技巧与最佳实践\",\"link\":\"/WinUI3/WinUI3-WinRT-CPP-完整教程-第六部分-实战技巧与最佳实践.md\"},{\"text\":\"Windows 缩放控制\",\"link\":\"/WinUI3/scale.md\"}]}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/hoshiizumiya\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>