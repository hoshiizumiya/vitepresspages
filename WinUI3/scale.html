<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>WIndows 系统缩放 —— 以 WinUI 3 高分辨率和 DPI 缩放问题为例 | Hoshiizumiya</title>
    <meta name="description" content="learn notes">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/vitepresspages/assets/style.CN1xNsPh.css" as="style">
    <link rel="preload stylesheet" href="/vitepresspages/vp-icons.css" as="style">
    
    <script type="module" src="/vitepresspages/assets/app.CVRw5pHX.js"></script>
    <link rel="preload" href="/vitepresspages/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/vitepresspages/assets/chunks/theme.CsjXfZ_X.js">
    <link rel="modulepreload" href="/vitepresspages/assets/chunks/framework.eveauE4a.js">
    <link rel="modulepreload" href="/vitepresspages/assets/WinUI3_scale.md.DITxRzhw.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0b0ada53></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0b0ada53>Skip to content</a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle has-sidebar" data-v-6aa21345 data-v-1168a8e4><a class="title" href="/vitepresspages/" data-v-1168a8e4><!--[--><!--]--><!----><span data-v-1168a8e4>Hoshiizumiya</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/vitepresspages/index.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/vitepresspages/README.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>About me</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6aa21345 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/hoshiizumiya" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bb2aa2f0><div class="item social-links" data-v-bb2aa2f0><div class="VPSocialLinks social-links-list" data-v-bb2aa2f0 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/hoshiizumiya" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-8a42e2b4><button data-v-8a42e2b4>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6><div class="curtain" data-v-319d5ca6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-319d5ca6><span class="visually-hidden" id="sidebar-aria-label" data-v-319d5ca6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>过时的项目指南</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/gitbook%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2%E5%85%A8%E6%8C%87%E5%8D%97/gitbook%E9%83%A8%E7%BD%B2%E7%AE%80%E4%BB%8B.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>gitbook本地部署</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>C++</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/C++/%E7%9B%AE%E5%BD%95.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>目录</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/C++/%E5%AD%97%E7%AC%A6%E4%B8%B2.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>字符串</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/C++/%E6%8C%87%E9%92%88.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>指针</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/C++/%E8%BF%9E%E7%BB%AD%E8%AF%BB%E5%8F%96.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>连续读取</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/C++/2.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>JAVA类数组和方法的重构</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/C++/memory1.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>C++ 11 —— 移动语义</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>计算机图形学</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6/%E7%9B%AE%E5%BD%95.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>目录</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 has-active" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>WinUI3 C++/WinRT 原理及实践</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/WinUI3/index.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>目录</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/WinUI3/EP3.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>EP3</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/WinUI3/TitleBar.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>cpp/WinRT入门-TitleBar标题栏</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/WinUI3/Loaded.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>cpp/WinRT入门-Loaded事件</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/WinUI3/Template.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>cpp/WinRT入门-模板元编程在 WinRT 中的实现</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/WinUI3/WinUI3-WinRT-CPP-%E5%AE%8C%E6%95%B4%E6%95%99%E7%A8%8B-%E7%AC%AC%E9%9B%B6%E9%83%A8%E5%88%86-%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E4%B8%8E%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>系列教程-第零部分-环境配置与基础概念</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/WinUI3/WinUI3-WinRT-CPP-%E5%AE%8C%E6%95%B4%E6%95%99%E7%A8%8B-%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86-%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5%E4%B8%8E%E6%9E%B6%E6%9E%84.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>系列教程-第一部分-基础概念与架构</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/WinUI3/WinUI3-WinRT-CPP-%E5%AE%8C%E6%95%B4%E6%95%99%E7%A8%8B-%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86-%E5%AE%9E%E8%B7%B5%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>系列教程-第二部分-实践开发指南</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/WinUI3/WinUI3-WinRT-CPP-%E5%AE%8C%E6%95%B4%E6%95%99%E7%A8%8B-%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7%E4%B8%8E%E6%B7%B1%E5%BA%A6%E5%BC%80%E5%8F%91.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>系列教程-第三部分-高级特性与深度开发</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/WinUI3/WinUI3-WinRT-CPP-%E5%AE%8C%E6%95%B4%E6%95%99%E7%A8%8B-%E7%AC%AC%E5%9B%9B%E9%83%A8%E5%88%86-%E5%9F%BA%E7%A1%80API%E4%B8%8E%E7%B1%BB%E5%9E%8B%E7%B3%BB%E7%BB%9F%E6%B7%B1%E5%BA%A6%E8%A7%A3%E6%9E%90.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>系列教程-第四部分-基础API与类型系统深度解析</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/WinUI3/WinUI3-WinRT-CPP-%E5%AE%8C%E6%95%B4%E6%95%99%E7%A8%8B-%E7%AC%AC%E4%BA%94%E9%83%A8%E5%88%86-XAML%E6%A1%86%E6%9E%B6%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A%E6%B7%B1%E5%B1%82%E6%9C%BA%E5%88%B6.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>系列教程-第五部分-XAML框架与数据绑定深层机制</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/WinUI3/WinUI3-WinRT-CPP-%E5%AE%8C%E6%95%B4%E6%95%99%E7%A8%8B-%E7%AC%AC%E5%85%AD%E9%83%A8%E5%88%86-%E5%AE%9E%E6%88%98%E6%8A%80%E5%B7%A7%E4%B8%8E%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>系列教程-第六部分-实战技巧与最佳实践</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/vitepresspages/WinUI3/scale.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>DPI 缩放</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _vitepresspages_WinUI3_scale" data-v-39a288b8><div><h1 id="windows-系统缩放-——-以-winui-3-高分辨率和-dpi-缩放问题为例" tabindex="-1">WIndows 系统缩放 —— 以 WinUI 3 高分辨率和 DPI 缩放问题为例 <a class="header-anchor" href="#windows-系统缩放-——-以-winui-3-高分辨率和-dpi-缩放问题为例" aria-label="Permalink to &quot;WIndows 系统缩放 —— 以 WinUI 3 高分辨率和 DPI 缩放问题为例&quot;">​</a></h1><p>!!此文内容还需要补充！！</p><h2 id="winui-3-控件在高-dpi-下变小的原因及解决方案" tabindex="-1">WinUI 3 控件在高 DPI 下变小的原因及解决方案 <a class="header-anchor" href="#winui-3-控件在高-dpi-下变小的原因及解决方案" aria-label="Permalink to &quot;WinUI 3 控件在高 DPI 下变小的原因及解决方案&quot;">​</a></h2><p>在将 WPF 应用迁移到 WinUI 3 时，可能会遇到控件在高 DPI 下变小的问题。以下是一些原因和解决方案：</p><ol><li>控件默认大小和布局单位的差异 • WPF 使用“设备无关像素（DIP）”，1 DIP = 1/96 英寸。WPF 的渲染引擎会自动根据系统 DPI 缩放控件，保证在不同 DPI 下视觉大小一致。 • WinUI 3 也使用 DIP，但其控件的默认样式、Padding、Margin、字体等与 WPF 不完全一致。例如，WPF 的 Button 默认高度和字体比 WinUI 3 的 Button 要大。这是你从 WPF 迁移产生控件变小的主要原因之一。 • 直接复制 Height/Width：如果你在 WPF 里用 Height=&quot;30&quot;，在 WinUI 3 里同样设置，控件实际显示出来的大小可能会不同，尤其是字体和内容区域。</li></ol><hr><ol start="2"><li>DPI 处理方式的不同 • WPF 在高 DPI 下会自动缩放所有 UI 元素，且缩放算法和渲染方式较为成熟，兼容性好，但效果一般。 • WinUI 3 也支持高 DPI，但其 DPI 感知和缩放机制与 WPF 有细微差别，特别是在多显示器和高 DPI 场景下。WinUI 3 更依赖于操作系统的 DPI 感知声明（如 PerMonitorV2），并且控件的视觉密度（density）更高，导致同样的 DIP 数值下控件看起来更小。</li></ol><hr><ol start="3"><li>系统缩放的影响 • 如果你的系统缩放（如 200%）下，WPF 和 WinUI 3 都会尝试适配，但由于控件模板和渲染方式不同，WinUI 3 的控件可能会显得更“紧凑”或“瘦小”。 • WinUI 3 的控件在高 DPI 下不会像 WPF 那样自动“放大”到和 WPF 一样的视觉效果，尤其是字体和内容区域。</li></ol><hr><ol start="4"><li>内容被遮挡的原因 • 由于 WinUI 3 控件的默认 Padding、Margin、字体等都比 WPF 小，直接用 WPF 的高度/宽度设置，内容（如文字）可能会显示不全或被遮挡。 • 例如，WPF 的 Button 用 Height=&quot;30&quot; 足够显示一行文字，但 WinUI 3 可能需要更高的值。</li></ol><hr><ol start="5"><li>如何解决？ • 不要直接照搬 WPF 的 Height/Width，而是根据 WinUI 3 的实际显示效果调整。 • 明确设置 FontSize、Padding，并适当增大控件的高度。 • 在高 DPI 环境下，优先使用<strong>自适应布局</strong>（如 Grid、StackPanel），减少绝对数值的使用。 • 检查 manifest 文件，确保 DPI 感知模式为 visual studio 默认的 <code>PerMonitorV2</code>，并在必要时动态调整布局。</li></ol><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">&lt;!-- app.manifest 片段 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">application</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> xmlns</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;urn:schemas-microsoft-com:asm.v3&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">windowsSettings</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dpiAware</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> xmlns</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http://schemas.microsoft.com/SMI/2005/WindowsSettings&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;PerMonitorV2&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dpiAware</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">windowsSettings</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">application</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><hr><h2 id="缩放系统讲解" tabindex="-1">缩放系统讲解： <a class="header-anchor" href="#缩放系统讲解" aria-label="Permalink to &quot;缩放系统讲解：&quot;">​</a></h2><h3 id="_1-permonitorv2-设置是什么" tabindex="-1">1. PerMonitorV2 设置是什么？ <a class="header-anchor" href="#_1-permonitorv2-设置是什么" aria-label="Permalink to &quot;1. PerMonitorV2 设置是什么？&quot;">​</a></h3><ul><li>PerMonitorV2 是 Windows 应用的 DPI 感知模式之一，声明在应用的 manifest 文件中。</li><li>含义：应用可以感知并适应每个显示器的 DPI（分辨率缩放），并在显示器 DPI 变化时自动调整 UI 缩放，获得最佳清晰度和布局。</li><li>适用场景：多显示器、不同缩放比例、动态切换显示器时，UI 能自适应缩放，避免模糊或错位。</li><li>WinUI 3 推荐并且默认使用 PerMonitorV2，这样控件和字体会根据当前显示器 DPI 自动缩放。</li></ul><h3 id="_2-exe-属性里的-高-dpi-设置-及-dpi-缩放替代" tabindex="-1">2. EXE 属性里的 “高 DPI 设置” 及 “DPI 缩放替代” <a class="header-anchor" href="#_2-exe-属性里的-高-dpi-设置-及-dpi-缩放替代" aria-label="Permalink to &quot;2. EXE 属性里的 “高 DPI 设置” 及 “DPI 缩放替代”&quot;">​</a></h3><p>在 Windows 资源管理器中，右键 EXE → 属性 → 兼容性 → “更改高 DPI 设置”，可以看到 DPI 缩放替代（DPI scaling override）</p><p>它允许你强制 Windows 以不同方式处理高 DPI 缩放，适用于未声明或不支持高 DPI 的老应用。</p><p><strong>选项说明</strong></p><p>• 应用（Application）</p><ul><li>让应用自己负责 DPI 缩放。<strong>只有</strong>应用声明了高 DPI 感知（如 PerMonitorV2 或 PerMonitor），Windows 不做额外缩放。适合 WinUI 3、WPF 等现代应用。我们大部分情况都是为了对于老式的 Win32 应用而设置的，其也可能导致 UI 模糊或错位。</li><li>强制应用程序忽略系统缩放，自行决定如何渲染界面。</li><li>如果程序内部已经适配高 DPI（如使用高分辨率资源或矢量图形），此模式能直接启用其优化。</li><li>如果程序未适配高 DPI，此模式可能导致界面 过小（因为未按系统缩放比例放大），但 <strong>不会模糊</strong>（因为未进行拉伸）。 • 系统（System） Windows 以系统 DPI 启动应用，应用本身不感知 DPI。Windows 会整体放大应用窗口（像素级别拉伸），可能导致 UI 模糊。 适合老旧 Win32 应用。 • 系统增强（System (Enhanced)） Windows 尝试智能缩放如双线性插值算法，改善传统 GDI 应用的缩放效果。对现代 UI 框架（如 WinUI 3）无效。</li></ul><h4 id="如果-不启用高-dpi-缩放覆盖-windows-的默认行为是" tabindex="-1">如果 不启用高 DPI 缩放覆盖，Windows 的默认行为是： <a class="header-anchor" href="#如果-不启用高-dpi-缩放覆盖-windows-的默认行为是" aria-label="Permalink to &quot;如果 不启用高 DPI 缩放覆盖，Windows 的默认行为是：&quot;">​</a></h4><ul><li>检测应用程序是否支持高 DPI： <ul><li>如果应用程序未声明 DPI 感知（Unaware），Windows 会强制拉伸其界面。而且这个强制拉伸算法是基于<strong>位图缩放</strong>（Bitmap Scaling）实现，所以直接导致界面模糊。</li><li>如果应用程序声明为“系统 DPI 感知”，但缩放比例不匹配显示器，Windows 仍会拉伸界面。</li></ul></li><li>位图拉伸的局限性： <ul><li>位图拉伸的本质是将低分辨率图像简单放大，导致像素模糊（类似放大照片的效果）。</li><li>非整数倍缩放（如 125%）时，模糊更明显。</li></ul></li><li>应用程序未适配多显示器缩放： <ul><li>在多显示器环境中，若显示器缩放比例不同，未适配的程序无法动态调整，导致模糊或错乱。</li></ul></li></ul><h4 id="注意" tabindex="-1">注意： <a class="header-anchor" href="#注意" aria-label="Permalink to &quot;注意：&quot;">​</a></h4><p>我遇到过有些未声明高 DPI 感知的应用，在高 DPI 显示器上运行时，界面非常模糊。虽然程序具有高分辨率资源，但是系统仍然会选择缩放。</p><h3 id="_3-它们的关系" tabindex="-1">3. 它们的关系 <a class="header-anchor" href="#_3-它们的关系" aria-label="Permalink to &quot;3. 它们的关系&quot;">​</a></h3><p>• manifest 里的 PerMonitorV2 告诉 Windows：我的应用能感知并适应每个显示器的 DPI，请不要帮我缩放。 • EXE 属性里的 DPI 缩放替代 是用户/管理员手动干预的方式，强制 Windows 以某种方式缩放应用。 • 如果 manifest 已声明 PerMonitorV2，建议不要在这里启用“DPI 缩放替代”，否则可能导致缩放冲突或 UI 问题。 • 如果应用未声明高 DPI 感知，才建议用“系统”或“系统增强”来改善显示效果。</p><h2 id="程序启动过程详解" tabindex="-1">程序启动过程详解 <a class="header-anchor" href="#程序启动过程详解" aria-label="Permalink to &quot;程序启动过程详解&quot;">​</a></h2><h3 id="_1-程序启动时的-dpi-感知声明" tabindex="-1">1. 程序启动时的 DPI 感知声明 <a class="header-anchor" href="#_1-程序启动时的-dpi-感知声明" aria-label="Permalink to &quot;1. 程序启动时的 DPI 感知声明&quot;">​</a></h3><p>在 Windows 中，应用程序的 DPI 感知声明决定了其在高 DPI 显示器上的显示效果。以下是两种主要的 DPI 感知模式及其启动流程和执行过程：</p><p>(1) 应用程序未适配高 DPI（DPI Unaware）</p><p>启动流程： 程序启动时，Windows 检测到其未声明 DPI 感知。 系统默认以 96 DPI（100% 缩放）运行程序。 如果系统缩放比例为 125% 或 150%，Windows 会强制拉伸程序界面（位图缩放）。 执行过程： 位图拉伸：程序界面（如按钮、文字）被放大到系统缩放比例，导致像素模糊。 分辨率错位：程序的逻辑分辨率与物理分辨率不匹配，可能导致界面元素错位或失真。 动态调整失败：如果程序移动到不同缩放比例的显示器，Windows 会再次拉伸界面，进一步加剧模糊。</p><p>(2) 应用程序适配高 DPI（Per-Monitor DPI Aware）</p><p>启动流程：</p><p>程序启动时声明为“每显示器 DPI 感知”（Per-Monitor DPI Aware）。 Windows 会通知程序当前显示器的 DPI 值。 程序根据 DPI 值动态调整界面元素大小和布局。 执行过程： 无拉伸：程序直接以高 DPI 渲染，界面清晰。 动态适配：如果程序移动到不同缩放比例的显示器，程序会重新计算布局，避免模糊。</p><h3 id="_2-设置为-应用程序-模式时的程序启动过程" tabindex="-1">2. 设置为“应用程序”模式时的程序启动过程 <a class="header-anchor" href="#_2-设置为-应用程序-模式时的程序启动过程" aria-label="Permalink to &quot;2. 设置为“应用程序”模式时的程序启动过程&quot;">​</a></h3><p>(1) 强制启用“应用程序”模式 启动流程：</p><ul><li>程序启动时，Windows 将其标记为“应用程序级 DPI 感知”（Application DPI Aware）。</li><li>程序不再接收系统缩放比例，直接以原始 DPI 运行。 执行过程：</li><li>无拉伸：程序界面以原始 DPI 渲染，避免位图拉伸导致的模糊。</li><li>界面过小：如果程序未适配高 DPI，界面可能过小（但清晰）。</li><li>手动调整：用户需手动拖动窗口边框放大界面，或等待程序自身优化。</li></ul><p>(2) 程序适配高 DPI 的情况 效果：程序直接以高 DPI 渲染，界面清晰且适配。 示例：现代游戏（如 Steam 游戏）或 WPF 应用程序（如 Visual Studio）通常已适配高 DPI，设置为“应用程序”模式后效果最佳。</p><h2 id="我们拿-galgame-来举例" tabindex="-1">我们拿 Galgame 来举例 <a class="header-anchor" href="#我们拿-galgame-来举例" aria-label="Permalink to &quot;我们拿 Galgame 来举例&quot;">​</a></h2><ol><li>Galgame（或其他老程序）即使有高清资源，为什么界面还是模糊、被强制缩放？ 原因分析： • 很多 Galgame 或老程序没有在 manifest 文件中声明高 DPI 感知（如 PerMonitorV2），属于“DPI Unaware”。 • Windows 检测到这种程序后，会用位图拉伸（Bitmap Scaling）方式强制缩放界面，把 96DPI 的内容直接放大到系统缩放比例（如 150%、200%）。 • 这种拉伸是像素级别的，哪怕你资源是高清的，程序本身没用高 DPI 方式加载和布局，Windows 只会把渲染结果整体放大，导致模糊。 • 只有声明了高 DPI 感知，程序才会根据当前 DPI 重新布局和渲染，高清资源才能真正发挥作用。 为什么“应用程序”模式能解决？ • “应用程序”模式（Application DPI Aware）让 Windows 不再对程序做强制缩放，程序自己负责渲染。 • 如果程序本身有高分辨率资源，且能自适应 DPI，这时界面就会清晰。 • 但如果程序没适配高 DPI，界面会变小，但不会模糊。</li></ol></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><a class="VPLink link pager-link prev" href="/vitepresspages/WinUI3/WinUI3-WinRT-CPP-%E5%AE%8C%E6%95%B4%E6%95%99%E7%A8%8B-%E7%AC%AC%E5%85%AD%E9%83%A8%E5%88%86-%E5%AE%9E%E6%88%98%E6%8A%80%E5%B7%A7%E4%B8%8E%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Previous page</span><span class="title" data-v-e257564d>系列教程-第六部分-实战技巧与最佳实践</span><!--]--></a></div><div class="pager" data-v-e257564d><!----></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"c___2.md\":\"DjMgGOCl\",\"c___memory1.md\":\"DC8G47Ns\",\"c___字符串.md\":\"Cgmq0Agb\",\"c___指针.md\":\"DmKyeohb\",\"c___目录.md\":\"DJ0IQXfm\",\"c___连续读取.md\":\"CkeBabpD\",\"friends.md\":\"DBcuyvVO\",\"gitbook本地部署全指南_gitbook部署简介.md\":\"DEwZ2v0L\",\"gitbook本地部署全指南_step1-环境准备.md\":\"6xDU7H1e\",\"gitbook本地部署全指南_step2-gitbook.md\":\"pg9czuZV\",\"gitbook本地部署全指南_step3-gitbook进阶.md\":\"Dce-J8e7\",\"index.md\":\"-b14q6Pw\",\"markdown-examples.md\":\"COCTsx38\",\"readme.md\":\"w011D00n\",\"windows_index.md\":\"DLB0q3M0\",\"windows_windows内核.md\":\"PaCzluSe\",\"winui3_ep3.md\":\"CRISNe9u\",\"winui3_index.md\":\"CDWmLQex\",\"winui3_loaded.md\":\"bqVwbDvd\",\"winui3_scale.md\":\"DITxRzhw\",\"winui3_swapchainpanel.md\":\"ByC4VwMp\",\"winui3_template.md\":\"D2eC_Q7u\",\"winui3_titlebar.md\":\"COAkMMRI\",\"winui3_winui3-winrt-cpp-完整教程-第一部分-基础概念与架构.md\":\"DdYoh6ef\",\"winui3_winui3-winrt-cpp-完整教程-第三部分-高级特性与深度开发.md\":\"fk0zhuzI\",\"winui3_winui3-winrt-cpp-完整教程-第二部分-实践开发指南.md\":\"Cxj_kOYU\",\"winui3_winui3-winrt-cpp-完整教程-第五部分-xaml框架与数据绑定深层机制.md\":\"D4h55b-H\",\"winui3_winui3-winrt-cpp-完整教程-第六部分-实战技巧与最佳实践.md\":\"yZExZe3k\",\"winui3_winui3-winrt-cpp-完整教程-第四部分-基础api与类型系统深度解析.md\":\"Iq7tgIs9\",\"winui3_winui3-winrt-cpp-完整教程-第零部分-环境配置与基础概念.md\":\"eA-Gj6Gn\",\"计算机图形学_目录.md\":\"9xfedz6b\",\"计算机网络_5g.md\":\"Ce3ctpUg\",\"计算机网络_bt.md\":\"CarG1Qna\",\"计算机网络_index.md\":\"tokUhwfa\",\"计算机网络_tcpip协议开销.md\":\"BCQkttL5\",\"计算机网络_系统代理.md\":\"BrfS_L_S\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Hoshiizumiya\",\"description\":\"learn notes\",\"base\":\"/vitepresspages/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"Home\",\"link\":\"/index.md\"},{\"text\":\"About me\",\"link\":\"/README.md\"}],\"sidebar\":[{\"text\":\"过时的项目指南\",\"items\":[{\"text\":\"gitbook本地部署\",\"link\":\"/gitbook本地部署全指南/gitbook部署简介\"}]},{\"text\":\"C++\",\"items\":[{\"text\":\"目录\",\"link\":\"/C++/目录\"},{\"text\":\"字符串\",\"link\":\"/C++/字符串\"},{\"text\":\"指针\",\"link\":\"/C++/指针\"},{\"text\":\"连续读取\",\"link\":\"/C++/连续读取\"},{\"text\":\"JAVA类数组和方法的重构\",\"link\":\"/C++/2\"},{\"text\":\"C++ 11 —— 移动语义\",\"link\":\"/C++/memory1\"}]},{\"text\":\"计算机图形学\",\"items\":[{\"text\":\"目录\",\"link\":\"/计算机图形学/目录.md\"}]},{\"text\":\"WinUI3 C++/WinRT 原理及实践\",\"items\":[{\"text\":\"目录\",\"link\":\"/WinUI3/index.md\"},{\"text\":\"EP3\",\"link\":\"/WinUI3/EP3.md\"},{\"text\":\"cpp/WinRT入门-TitleBar标题栏\",\"link\":\"/WinUI3/TitleBar.md\"},{\"text\":\"cpp/WinRT入门-Loaded事件\",\"link\":\"/WinUI3/Loaded.md\"},{\"text\":\"cpp/WinRT入门-模板元编程在 WinRT 中的实现\",\"link\":\"/WinUI3/Template.md\"},{\"text\":\"系列教程-第零部分-环境配置与基础概念\",\"link\":\"/WinUI3/WinUI3-WinRT-CPP-完整教程-第零部分-环境配置与基础概念.md\"},{\"text\":\"系列教程-第一部分-基础概念与架构\",\"link\":\"/WinUI3/WinUI3-WinRT-CPP-完整教程-第一部分-基础概念与架构.md\"},{\"text\":\"系列教程-第二部分-实践开发指南\",\"link\":\"/WinUI3/WinUI3-WinRT-CPP-完整教程-第二部分-实践开发指南.md\"},{\"text\":\"系列教程-第三部分-高级特性与深度开发\",\"link\":\"/WinUI3/WinUI3-WinRT-CPP-完整教程-第三部分-高级特性与深度开发.md\"},{\"text\":\"系列教程-第四部分-基础API与类型系统深度解析\",\"link\":\"/WinUI3/WinUI3-WinRT-CPP-完整教程-第四部分-基础API与类型系统深度解析.md\"},{\"text\":\"系列教程-第五部分-XAML框架与数据绑定深层机制\",\"link\":\"/WinUI3/WinUI3-WinRT-CPP-完整教程-第五部分-XAML框架与数据绑定深层机制.md\"},{\"text\":\"系列教程-第六部分-实战技巧与最佳实践\",\"link\":\"/WinUI3/WinUI3-WinRT-CPP-完整教程-第六部分-实战技巧与最佳实践.md\"},{\"text\":\"DPI 缩放\",\"link\":\"/WinUI3/scale.md\"}]}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/hoshiizumiya\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>